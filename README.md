# Проект проектирования DWH (Data Warehouse) с использованием слоев raw, core и mart.

## Слой Raw:

В этом слое хранятся необработанные данные, полученные из различных источников, таких как системы продаж, личные кабинеты покупателей и промо-акции.
Данные в слое Raw сохраняются без изменений и представляют собой "сырые" данные, которые могут быть использованы для дальнейшей обработки и анализа.
Здесь данные хранятся в своем первоначальном формате и структуре, что обеспечивает гибкость и возможность повторной обработки.

### Таблица "Sales":

- OrderID __PimaryKey__ (идентификатор заказа)
- SaleTime (время продажи)
- ProductName (название товара)
- Price (цена)
- Brand (бренд)
- Model (модель товара)
- Category (категория)
- CustomerCookies (cookies покупателя)
- TotalAmount (сумма)

### Таблица "CustomerAccounts":

- AccountID __PimaryKey__ (идентификатор личного кабинета)
- CustomerCookies (cookies покупателя)
- FullName (ФИО)
- Gender (пол)
- DateOfBirth (дата рождения)
- Email (адрес электронной почты)
- Phone (телефон)

### Таблица "Promotions":

- PromotionID __PimaryKey__ (идентификатор промо-акции)
- ProductID (идентификатор товара)
- StartDate (дата начала промо)
- EndDate (дата окончания промо)
- DiscountSize (размер скидки)

## Слой Core:

В этом слое данные из слоя Raw объединяются и преобразуются в централизованное хранилище данных.
Здесь происходит интеграция данных из разных источников, чтобы создать единую и надежную версию информации.
В слое Core выполняется очистка данных, устранение дубликатов, преобразование форматов и создание связей между таблицами.
Цель слоя Core - предоставить однородное представление данных, которое может быть использовано для анализа и отчетности.

### Таблица "Sales_Fact":

- OrderID
- SaleTime
- ProductID (ссылка на таблицу "Products" с уникальными идентификаторами товаров)
- CustomerID (ссылка на таблицу "Customers" с уникальными идентификаторами покупателей)
- PromotionID (ссылка на таблицу "Promotions" с уникальными идентификаторами промо-акций)
- TotalAmount

### Таблица "Products":

- ProductID
- ProductName
- Brand
- Model
- Category

### Таблица "Customers":

- CustomerID
- AccountID
- FullName
- Gender
- DateOfBirth
- Email
- Phone

## Слой Mart:

В этом слое данные из слоя Core агрегируются и структурируются для удобного анализа и отчетности.
Здесь создаются агрегированные таблицы, которые содержат суммарные значения или другие агрегаты данных.
Цель слоя Mart - предоставить готовые к использованию данные для аналитических запросов и построения отчетов без необходимости выполнения сложных операций над данными каждый раз.

### Таблица "CustomerSummary":

- AccountID __PimaryKey__ (идентификатор личного кабинета)
- Gender (пол)
- AgeCategory (категория возраста, определено на основе поля "DateOfBirth" из таблицы "CustomerAccounts")
- Email (электронная почта)
- Phone (телефон)

### Таблица "CustomerPurchases":

- AccountID (ссылка на таблицу "CustomerSummary" с уникальными идентификаторами покупателей)
- MostFrequentProductMonth (товар, который чаще всего покупал клиент за последний месяц)
- MostFrequentBrand (бренд товаров, которые чаще всего покупал клиент)
- MostFrequentCategory (категория товаров, которые чаще всего покупал клиент)
- TotalAmountMonth (сумма, потраченная клиентом за месяц)
- DiscountedItemCount (количество товаров, купленных со скидкой)

Каждый слой в DWH имеет свою роль и значение. Слой Raw сохраняет необработанные данные, слой Core интегрирует и преобразует данные, а слой Mart предоставляет готовые для анализа данные. Эта архитектура позволяет эффективно управлять данными и обеспечивает гибкость и производительность при выполнении аналитических задач.
